<!doctype html>
<html lang="en">

<head>
    <meta charSet="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mochawesome Report</title>
    <link rel="stylesheet" href="assets\app.css" />
</head>

<body
    data-raw="{&quot;stats&quot;:{&quot;suites&quot;:5,&quot;tests&quot;:27,&quot;passes&quot;:27,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-05-30T06:58:33.896Z&quot;,&quot;end&quot;:&quot;2025-05-30T06:58:33.971Z&quot;,&quot;duration&quot;:75,&quot;testsRegistered&quot;:27,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;605fac12-1347-4667-af94-e671bdfab202&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;title&quot;:&quot;validateExportRequest Middleware&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\test\\middleware\\validateExportData.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\middleware\\validateExportData.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call next() for valid input&quot;,&quot;fullTitle&quot;:&quot;validateExportRequest Middleware should call next() for valid input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n  body: {\n    expenses: [{ desc: \&quot;Lunch\&quot;, amount: 10, category: \&quot;Needs\&quot;, date: \&quot;2023-01-01\&quot; }],\n    summary: {\n      salary: 5000,\n      needs: 2000,\n      wants: 1000,\n      savings: 2000,\n      total: 5000,\n      remaining: 1000,\n    },\n  },\n  query: { type: \&quot;pdf\&quot; },\n};\nconst res = {\n  status: () =&gt; res,\n  json: () =&gt; { },\n  setHeader: () =&gt; { },\n};\nconst next = () =&gt; done();\nvalidateExportRequest(req, res, next);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ca4a46f-6fa4-44bd-b7a6-6f90ff8ec5a2&quot;,&quot;parentUUID&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid body (missing expenses)&quot;,&quot;fullTitle&quot;:&quot;validateExportRequest Middleware should return 400 for invalid body (missing expenses)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n  body: { summary: {} }, // Missing expenses\n  query: { type: \&quot;pdf\&quot; },\n};\nconst res = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub().callsFake((payload) =&gt; {\n    expect(res.status.calledWith(400)).to.be.true;\n    expect(payload).to.have.property(\&quot;error\&quot;);\n    done();\n  }),\n};\nvalidateExportRequest(req, res, () =&gt; { });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea10d2b7-434b-4cd5-a26a-d2b4c506e6cd&quot;,&quot;parentUUID&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid query (unsupported type)&quot;,&quot;fullTitle&quot;:&quot;validateExportRequest Middleware should return 400 for invalid query (unsupported type)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n  body: {\n    expenses: [{ desc: \&quot;Lunch\&quot;, amount: 10, category: \&quot;Needs\&quot;, date: \&quot;2023-01-01\&quot; }],\n    summary: {\n      salary: 5000,\n      needs: 2000,\n      wants: 1000,\n      savings: 2000,\n      total: 5000,\n      remaining: 1000,\n    },\n  },\n  query: { type: \&quot;csv\&quot; }, // Invalid type\n};\nconst res = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub().callsFake((payload) =&gt; {\n    expect(res.status.calledWith(400)).to.be.true;\n    expect(payload).to.have.property(\&quot;error\&quot;);\n    done();\n  }),\n};\nvalidateExportRequest(req, res, () =&gt; { });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00dcb05f-c9a8-4359-b52e-dbbb56dbb802&quot;,&quot;parentUUID&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for missing summary&quot;,&quot;fullTitle&quot;:&quot;validateExportRequest Middleware should return 400 for missing summary&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n  body: {\n    expenses: [{ desc: \&quot;Lunch\&quot;, amount: 10, category: \&quot;Needs\&quot;, date: \&quot;2023-01-01\&quot; }],\n  },\n  query: { type: \&quot;pdf\&quot; },\n};\nconst res = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub().callsFake((payload) =&gt; {\n    expect(res.status.calledWith(400)).to.be.true;\n    expect(payload).to.have.property(\&quot;error\&quot;);\n    done();\n  }),\n};\nvalidateExportRequest(req, res, () =&gt; { });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7495e5b8-f340-4235-a3bf-c3e18cf5d6a0&quot;,&quot;parentUUID&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for empty expenses array&quot;,&quot;fullTitle&quot;:&quot;validateExportRequest Middleware should return 400 for empty expenses array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n  body: {\n    expenses: [], // Invalid: empty array\n    summary: {\n      salary: 5000,\n      needs: 2000,\n      wants: 1000,\n      savings: 2000,\n      total: 5000,\n      remaining: 1000,\n    },\n  },\n  query: { type: \&quot;excel\&quot; },\n};\nconst res = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub().callsFake((payload) =&gt; {\n    expect(res.status.calledWith(400)).to.be.true;\n    expect(payload).to.have.property(\&quot;error\&quot;);\n    done();\n  }),\n};\nvalidateExportRequest(req, res, () =&gt; { });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72a33d2d-be12-4fbf-ab89-3a9c962fcab0&quot;,&quot;parentUUID&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 with fallback error message if error.errors is missing&quot;,&quot;fullTitle&quot;:&quot;validateExportRequest Middleware should return 400 with fallback error message if error.errors is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n  body: {},\n  query: {},\n};\nconst res = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub(),\n  setHeader: sinon.stub(),\n};\nconst next = sinon.stub();\n// Stub the parse method to throw an error with no `errors` property\nconst originalParse = validationSchemas.exportRequestSchema.parse;\nvalidationSchemas.exportRequestSchema.parse = () =&gt; {\n  const err = new Error(\&quot;Some unknown error\&quot;);\n  throw err; // no err.errors property\n};\nvalidateExportRequest(req, res, next);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWithMatch({ error: \&quot;Invalid input data\&quot; })).to.be.true;\nexpect(next.called).to.be.false;\n// Restore the original method\nvalidationSchemas.exportRequestSchema.parse = originalParse;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1194c241-37c7-4665-b09b-3efbd8bd0cea&quot;,&quot;parentUUID&quot;:&quot;9d35df85-d6a3-4b8a-b849-c3834dedef65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5ca4a46f-6fa4-44bd-b7a6-6f90ff8ec5a2&quot;,&quot;ea10d2b7-434b-4cd5-a26a-d2b4c506e6cd&quot;,&quot;00dcb05f-c9a8-4359-b52e-dbbb56dbb802&quot;,&quot;7495e5b8-f340-4235-a3bf-c3e18cf5d6a0&quot;,&quot;72a33d2d-be12-4fbf-ab89-3a9c962fcab0&quot;,&quot;1194c241-37c7-4665-b09b-3efbd8bd0cea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fa1ea2ee-6de7-45f1-8fc0-d9a9736900b4&quot;,&quot;title&quot;:&quot;createExcelWorkbook&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\test\\utils\\fileGenerators\\generateFiles.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\utils\\fileGenerators\\generateFiles.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a valid Excel workbook buffer for normal input&quot;,&quot;fullTitle&quot;:&quot;createExcelWorkbook should create a valid Excel workbook buffer for normal input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const summary = { total: 1000, count: 5 };\nconst expenses = [\n  { id: 1, item: &#x27;Coffee&#x27;, amount: 5 },\n  { id: 2, item: &#x27;Book&#x27;, amount: 20 },\n];\nconst buffer = createExcelWorkbook(summary, expenses);\nexpect(Buffer.isBuffer(buffer)).to.be.true;\n// Check buffer is valid Excel by reading back sheets\nconst workbook = XLSX.read(buffer);\nexpect(workbook.SheetNames).to.include.members([&#x27;Expenses&#x27;, &#x27;Summary&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8aed974-c046-4f96-b572-275f52c51986&quot;,&quot;parentUUID&quot;:&quot;fa1ea2ee-6de7-45f1-8fc0-d9a9736900b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle empty expenses and empty summary gracefully&quot;,&quot;fullTitle&quot;:&quot;createExcelWorkbook should handle empty expenses and empty summary gracefully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const summary = {};\nconst expenses = [];\nconst buffer = createExcelWorkbook(summary, expenses);\nexpect(Buffer.isBuffer(buffer)).to.be.true;\nconst workbook = XLSX.read(buffer);\nexpect(workbook.SheetNames).to.include.members([&#x27;Expenses&#x27;, &#x27;Summary&#x27;]);\n// Summary sheet data should include keys with 0 values\nconst summarySheet = workbook.Sheets[&#x27;Summary&#x27;];\nconst summaryData = XLSX.utils.sheet_to_json(summarySheet, { header: 1 });\nexpect(summaryData.length).to.equal(0); // no summary entries&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b6e0667-1ac7-4573-9377-da66ab47e9fd&quot;,&quot;parentUUID&quot;:&quot;fa1ea2ee-6de7-45f1-8fc0-d9a9736900b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should default null/undefined summary values to 0&quot;,&quot;fullTitle&quot;:&quot;createExcelWorkbook should default null/undefined summary values to 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const summary = { total: null, count: undefined };\nconst expenses = [{ id: 1, item: &#x27;Test&#x27;, amount: 10 }];\nconst buffer = createExcelWorkbook(summary, expenses);\nexpect(Buffer.isBuffer(buffer)).to.be.true;\nconst workbook = XLSX.read(buffer);\nconst summarySheet = workbook.Sheets[&#x27;Summary&#x27;];\nconst summaryData = XLSX.utils.sheet_to_json(summarySheet, { header: 1 });\n// Summary sheet rows have 0 for null/undefined values\nexpect(summaryData).to.deep.include([&#x27;total&#x27;, 0]);\nexpect(summaryData).to.deep.include([&#x27;count&#x27;, 0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de94e88b-dcdd-4935-8fa5-5a2adab78432&quot;,&quot;parentUUID&quot;:&quot;fa1ea2ee-6de7-45f1-8fc0-d9a9736900b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e8aed974-c046-4f96-b572-275f52c51986&quot;,&quot;5b6e0667-1ac7-4573-9377-da66ab47e9fd&quot;,&quot;de94e88b-dcdd-4935-8fa5-5a2adab78432&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;title&quot;:&quot;sendResponse&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\test\\utils\\helpers\\responseHelpers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\utils\\helpers\\responseHelpers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;sendResponse\&quot;&quot;,&quot;fullTitle&quot;:&quot;sendResponse \&quot;before each\&quot; hook in \&quot;sendResponse\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = {\n  statusCode: null,\n  headers: {},\n  body: null,\n  status(code) {\n    this.statusCode = code;\n    return this;\n  },\n  setHeader(key, value) {\n    this.headers[key] = value;\n  },\n  json(payload) {\n    this.body = payload;\n  },\n  send(payload) {\n    this.body = payload;\n  },\n  redirect(status, url) {\n    this.statusCode = status;\n    this.body = `redirect:${url}`;\n  }\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;053c957e-bfe7-4a3d-ac97-8233621e678a&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should set custom headers&quot;,&quot;fullTitle&quot;:&quot;sendResponse should set custom headers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 200, data: { message: &#x27;ok&#x27; }, headers: { &#x27;X-Test&#x27;: &#x27;test-value&#x27; } });\nexpect(res.headers).to.have.property(&#x27;X-Test&#x27;, &#x27;test-value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b93486a0-af7e-4047-8931-15dfb8ec94df&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle 1xx informational response with data&quot;,&quot;fullTitle&quot;:&quot;sendResponse should handle 1xx informational response with data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 100, data: &#x27;info data&#x27; });\nexpect(res.statusCode).to.equal(100);\nexpect(res.body).to.deep.equal({ info: &#x27;info data&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0289c28a-21cd-4ff3-bc1d-efa869227cfb&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle 1xx informational response with no data&quot;,&quot;fullTitle&quot;:&quot;sendResponse should handle 1xx informational response with no data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 101 });\nexpect(res.statusCode).to.equal(101);\nexpect(res.body).to.deep.equal({ info: &#x27;Informational response&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9dcea89-c5c7-489a-95c4-1ef1c6b25955&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send buffer data for 2xx status&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send buffer data for 2xx status&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const buffer = Buffer.from(&#x27;test buffer&#x27;);\nsendResponse(res, { status: 200, data: buffer });\nexpect(res.statusCode).to.equal(200);\nexpect(res.body).to.equal(buffer);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;092a506c-cd96-417b-9f7a-4febfea89bec&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send JSON data for 2xx status with non-buffer data&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send JSON data for 2xx status with non-buffer data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 200, data: { success: true } });\nexpect(res.statusCode).to.equal(200);\nexpect(res.body).to.deep.equal({ data: { success: true } });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7835f5ac-fbfd-463f-8d61-1bd6dd07cd12&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should redirect for 3xx status with provided location&quot;,&quot;fullTitle&quot;:&quot;sendResponse should redirect for 3xx status with provided location&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 302, data: &#x27;/new-location&#x27; });\nexpect(res.statusCode).to.equal(302);\nexpect(res.body).to.equal(&#x27;redirect:/new-location&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2ffe526-57f5-4d99-928c-26984c0408c2&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should redirect for 3xx status with default location \&quot;/\&quot;&quot;,&quot;fullTitle&quot;:&quot;sendResponse should redirect for 3xx status with default location \&quot;/\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 301 });\nexpect(res.statusCode).to.equal(301);\nexpect(res.body).to.equal(&#x27;redirect:/&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd61b47a-18aa-415d-b5ec-5c223805a935&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send error JSON for 4xx status with provided error message&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send error JSON for 4xx status with provided error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 400, error: &#x27;Bad request&#x27; });\nexpect(res.statusCode).to.equal(400);\nexpect(res.body).to.deep.equal({ error: &#x27;Bad request&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaac9156-e1c1-470a-a1c6-8c575f158d60&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send default error JSON for 4xx status with no error message&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send default error JSON for 4xx status with no error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 404 });\nexpect(res.statusCode).to.equal(404);\nexpect(res.body).to.deep.equal({ error: &#x27;Client error occurred&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78cdacf8-b9c9-420d-a6f0-cda3e3be7cca&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send error JSON for 5xx status with provided error message&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send error JSON for 5xx status with provided error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 500, error: &#x27;Server error&#x27; });\nexpect(res.statusCode).to.equal(500);\nexpect(res.body).to.deep.equal({ error: &#x27;Server error&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;038c002f-d0b4-4876-9afa-cdc3f0c3eec5&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send default error JSON for 5xx status with no error message&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send default error JSON for 5xx status with no error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 503 });\nexpect(res.statusCode).to.equal(503);\nexpect(res.body).to.deep.equal({ error: &#x27;Internal server error&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d29c1697-d0a0-4977-9a2e-39e20c311ff9&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send 500 error JSON for unknown status series&quot;,&quot;fullTitle&quot;:&quot;sendResponse should send 500 error JSON for unknown status series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendResponse(res, { status: 700 });\nexpect(res.statusCode).to.equal(500);\nexpect(res.body).to.deep.equal({ error: &#x27;Unknown status code&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd7ef169-0d19-4824-ba01-5f878ae714c8&quot;,&quot;parentUUID&quot;:&quot;ad2cd96f-eef4-4282-a07f-0810d76e7c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b93486a0-af7e-4047-8931-15dfb8ec94df&quot;,&quot;0289c28a-21cd-4ff3-bc1d-efa869227cfb&quot;,&quot;d9dcea89-c5c7-489a-95c4-1ef1c6b25955&quot;,&quot;092a506c-cd96-417b-9f7a-4febfea89bec&quot;,&quot;7835f5ac-fbfd-463f-8d61-1bd6dd07cd12&quot;,&quot;b2ffe526-57f5-4d99-928c-26984c0408c2&quot;,&quot;cd61b47a-18aa-415d-b5ec-5c223805a935&quot;,&quot;aaac9156-e1c1-470a-a1c6-8c575f158d60&quot;,&quot;78cdacf8-b9c9-420d-a6f0-cda3e3be7cca&quot;,&quot;038c002f-d0b4-4876-9afa-cdc3f0c3eec5&quot;,&quot;d29c1697-d0a0-4977-9a2e-39e20c311ff9&quot;,&quot;dd7ef169-0d19-4824-ba01-5f878ae714c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;46a00aa8-0139-43c1-abec-8cfec6e90463&quot;,&quot;title&quot;:&quot;setFileHeaders&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\test\\utils\\helpers\\setFileHeaders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\utils\\helpers\\setFileHeaders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;setFileHeaders\&quot;&quot;,&quot;fullTitle&quot;:&quot;setFileHeaders \&quot;before each\&quot; hook in \&quot;setFileHeaders\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = { setHeader: sinon.spy() }; // spy to monitor calls&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab15e5b2-744f-4ae6-9d1b-b411f0901a77&quot;,&quot;parentUUID&quot;:&quot;46a00aa8-0139-43c1-abec-8cfec6e90463&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;sets headers for pdf type&quot;,&quot;fullTitle&quot;:&quot;setFileHeaders sets headers for pdf type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setFileHeaders(res, &#x27;pdf&#x27;, &#x27;report&#x27;);\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/pdf&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=\&quot;report.pdf\&quot;&#x27;)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7eb255ae-5727-4280-b0bc-6a82cfc7a08f&quot;,&quot;parentUUID&quot;:&quot;46a00aa8-0139-43c1-abec-8cfec6e90463&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;sets correct headers for excel type&quot;,&quot;fullTitle&quot;:&quot;setFileHeaders sets correct headers for excel type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setFileHeaders(res, &#x27;excel&#x27;, &#x27;report&#x27;);\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=\&quot;report.xlsx\&quot;&#x27;)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2db9d757-6c3f-4aa1-a1dd-05e5e0bbe1a7&quot;,&quot;parentUUID&quot;:&quot;46a00aa8-0139-43c1-abec-8cfec6e90463&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws error for unsupported file type&quot;,&quot;fullTitle&quot;:&quot;setFileHeaders throws error for unsupported file type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(() =&gt; setFileHeaders(res, &#x27;csv&#x27;, &#x27;file&#x27;)).to.throw(&#x27;Invalid file type for headers&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e50ebb5-73cb-4bac-a8c7-ee96c3b869c8&quot;,&quot;parentUUID&quot;:&quot;46a00aa8-0139-43c1-abec-8cfec6e90463&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7eb255ae-5727-4280-b0bc-6a82cfc7a08f&quot;,&quot;2db9d757-6c3f-4aa1-a1dd-05e5e0bbe1a7&quot;,&quot;7e50ebb5-73cb-4bac-a8c7-ee96c3b869c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e3183d77-3de2-4b1a-97cf-922c4e0d9245&quot;,&quot;title&quot;:&quot;Validation Schemas&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\test\\utils\\validations\\validationSchemas.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\utils\\validations\\validationSchemas.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;validates a correct export request body&quot;,&quot;fullTitle&quot;:&quot;Validation Schemas validates a correct export request body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const input = {\n  expenses: [{ desc: &#x27;item&#x27;, amount: 10, category: &#x27;Needs&#x27;, date: &#x27;2023-01-01&#x27; }],\n  summary: {\n    salary: 500,\n    needs: 100,\n    wants: 100,\n    savings: 100,\n    total: 300,\n    remaining: 200\n  }\n};\n// Should pass without throwing\nexpect(() =&gt; exportRequestSchema.parse(input)).to.not.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35ceca39-d8a1-4d35-ace3-3b7f15fa5a05&quot;,&quot;parentUUID&quot;:&quot;e3183d77-3de2-4b1a-97cf-922c4e0d9245&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;rejects export request with missing fields&quot;,&quot;fullTitle&quot;:&quot;Validation Schemas rejects export request with missing fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidInput = {\n  expenses: [{ amount: 10 }], // Missing desc, category, date\n  summary: { salary: 500 }, // Missing required keys\n};\nexpect(() =&gt; exportRequestSchema.parse(invalidInput)).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1913509-e64d-40a5-ad10-2e142eb226a0&quot;,&quot;parentUUID&quot;:&quot;e3183d77-3de2-4b1a-97cf-922c4e0d9245&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;rejects invalid export query type&quot;,&quot;fullTitle&quot;:&quot;Validation Schemas rejects invalid export query type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// &#x27;csv&#x27; is not a valid type in the schema, should throw\nexpect(() =&gt; exportQuerySchema.parse({ type: &#x27;csv&#x27; })).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc9e557a-87db-495f-a6ff-c3d0a5d73f92&quot;,&quot;parentUUID&quot;:&quot;e3183d77-3de2-4b1a-97cf-922c4e0d9245&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35ceca39-d8a1-4d35-ace3-3b7f15fa5a05&quot;,&quot;b1913509-e64d-40a5-ad10-2e142eb226a0&quot;,&quot;dc9e557a-87db-495f-a6ff-c3d0a5d73f92&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.5.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}"
    data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;backend&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Atharva.Jaiswal\\Desktop\\Tasks\\Task5\\expense-tracker\\backend\\mochawesome-report\\mochawesome.html&quot;}">
    <div id="report"></div>
    <script src="assets\app.js"></script>
</body>

</html>